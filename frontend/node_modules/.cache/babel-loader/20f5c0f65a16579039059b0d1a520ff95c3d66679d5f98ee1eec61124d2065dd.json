{"ast":null,"code":"import React,{useState,useEffect}from'react';import{medicalApi}from'../utils/api';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Settings=()=>{const[apiKey,setApiKey]=useState('');const[isUpdating,setIsUpdating]=useState(false);const[message,setMessage]=useState('');useEffect(()=>{// Load current settings from localStorage\nconst savedApiKey=localStorage.getItem('geminiApiKey')||'';setApiKey(savedApiKey);},[]);const handleApiKeyChange=async newApiKey=>{setIsUpdating(true);setMessage('');try{// Save to localStorage\nlocalStorage.setItem('geminiApiKey',newApiKey);setApiKey(newApiKey);// Update backend\nawait medicalApi.updateSettings(newApiKey);setMessage('‚úÖ API key updated successfully!');}catch(error){console.error('Error updating API key:',error);setMessage('‚ùå Failed to update API key');}finally{setIsUpdating(false);}};const testConnection=async()=>{setIsUpdating(true);setMessage('');try{const response=await medicalApi.testGeminiConnection(apiKey);if(response.success){setMessage('‚úÖ Gemini API connection successful!');}else{setMessage('‚ùå Gemini API connection failed');}}catch(error){console.error('Connection test failed:',error);setMessage('‚ùå Failed to test Gemini API connection');}finally{setIsUpdating(false);}};return/*#__PURE__*/_jsx(\"div\",{className:\"settings-container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"settings-card\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"settings-title\",children:\"\\uD83E\\uDD16 Gemini AI Settings\"}),/*#__PURE__*/_jsx(\"p\",{className:\"settings-description\",children:\"Configure your Google Gemini AI settings for medical imaging analysis.\"}),message&&/*#__PURE__*/_jsx(\"div\",{className:\"message \".concat(message.includes('‚úÖ')?'success':'error'),children:message}),/*#__PURE__*/_jsxs(\"div\",{className:\"setting-group\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"setting-label\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label-icon\",children:\"\\uD83D\\uDD11\"}),\"Gemini API Key\"]}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",value:apiKey,onChange:e=>setApiKey(e.target.value),placeholder:\"Enter your Google AI API key\",className:\"setting-input\",disabled:isUpdating}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleApiKeyChange(apiKey),disabled:isUpdating||!apiKey,className:\"setting-button primary\",children:isUpdating?'Updating...':'Update API Key'})]}),/*#__PURE__*/_jsx(\"div\",{className:\"setting-group\",children:/*#__PURE__*/_jsx(\"button\",{onClick:testConnection,disabled:isUpdating||!apiKey,className:\"setting-button secondary\",children:isUpdating?'Testing...':'Test Connection'})}),/*#__PURE__*/_jsxs(\"div\",{className:\"settings-info\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"\\uD83D\\uDCCB How to get your API Key:\"}),/*#__PURE__*/_jsxs(\"ol\",{children:[/*#__PURE__*/_jsxs(\"li\",{children:[\"Go to \",/*#__PURE__*/_jsx(\"a\",{href:\"https://makersuite.google.com/app/apikey\",target:\"_blank\",rel:\"noopener noreferrer\",children:\"Google AI Studio\"})]}),/*#__PURE__*/_jsx(\"li\",{children:\"Sign in with your Google account\"}),/*#__PURE__*/_jsx(\"li\",{children:\"Create a new API key or use an existing one\"}),/*#__PURE__*/_jsx(\"li\",{children:\"Copy and paste the key above\"})]})]})]})});};export default Settings;","map":{"version":3,"names":["React","useState","useEffect","medicalApi","jsx","_jsx","jsxs","_jsxs","Settings","apiKey","setApiKey","isUpdating","setIsUpdating","message","setMessage","savedApiKey","localStorage","getItem","handleApiKeyChange","newApiKey","setItem","updateSettings","error","console","testConnection","response","testGeminiConnection","success","className","children","concat","includes","type","value","onChange","e","target","placeholder","disabled","onClick","href","rel"],"sources":["C:/Users/91797/Desktop/medicalImaging/frontend/src/components/Settings.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { medicalApi } from '../utils/api';\r\n\r\nconst Settings = () => {\r\n  const [apiKey, setApiKey] = useState('');\r\n  const [isUpdating, setIsUpdating] = useState(false);\r\n  const [message, setMessage] = useState('');\r\n\r\n  useEffect(() => {\r\n    // Load current settings from localStorage\r\n    const savedApiKey = localStorage.getItem('geminiApiKey') || '';\r\n    setApiKey(savedApiKey);\r\n  }, []);\r\n\r\n  const handleApiKeyChange = async (newApiKey) => {\r\n    setIsUpdating(true);\r\n    setMessage('');\r\n\r\n    try {\r\n      // Save to localStorage\r\n      localStorage.setItem('geminiApiKey', newApiKey);\r\n      setApiKey(newApiKey);\r\n\r\n      // Update backend\r\n      await medicalApi.updateSettings(newApiKey);\r\n\r\n      setMessage('‚úÖ API key updated successfully!');\r\n    } catch (error) {\r\n      console.error('Error updating API key:', error);\r\n      setMessage('‚ùå Failed to update API key');\r\n    } finally {\r\n      setIsUpdating(false);\r\n    }\r\n  };\r\n\r\n  const testConnection = async () => {\r\n    setIsUpdating(true);\r\n    setMessage('');\r\n\r\n    try {\r\n      const response = await medicalApi.testGeminiConnection(apiKey);\r\n\r\n      if (response.success) {\r\n        setMessage('‚úÖ Gemini API connection successful!');\r\n      } else {\r\n        setMessage('‚ùå Gemini API connection failed');\r\n      }\r\n    } catch (error) {\r\n      console.error('Connection test failed:', error);\r\n      setMessage('‚ùå Failed to test Gemini API connection');\r\n    } finally {\r\n      setIsUpdating(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"settings-container\">\r\n      <div className=\"settings-card\">\r\n        <h2 className=\"settings-title\">ü§ñ Gemini AI Settings</h2>\r\n        <p className=\"settings-description\">\r\n          Configure your Google Gemini AI settings for medical imaging analysis.\r\n        </p>\r\n\r\n        {message && (\r\n          <div className={`message ${message.includes('‚úÖ') ? 'success' : 'error'}`}>\r\n            {message}\r\n          </div>\r\n        )}\r\n\r\n        <div className=\"setting-group\">\r\n          <label className=\"setting-label\">\r\n            <span className=\"label-icon\">üîë</span>\r\n            Gemini API Key\r\n          </label>\r\n          <input\r\n            type=\"password\"\r\n            value={apiKey}\r\n            onChange={(e) => setApiKey(e.target.value)}\r\n            placeholder=\"Enter your Google AI API key\"\r\n            className=\"setting-input\"\r\n            disabled={isUpdating}\r\n          />\r\n          <button\r\n            onClick={() => handleApiKeyChange(apiKey)}\r\n            disabled={isUpdating || !apiKey}\r\n            className=\"setting-button primary\"\r\n          >\r\n            {isUpdating ? 'Updating...' : 'Update API Key'}\r\n          </button>\r\n        </div>\r\n\r\n\r\n\r\n        <div className=\"setting-group\">\r\n          <button\r\n            onClick={testConnection}\r\n            disabled={isUpdating || !apiKey}\r\n            className=\"setting-button secondary\"\r\n          >\r\n            {isUpdating ? 'Testing...' : 'Test Connection'}\r\n          </button>\r\n        </div>\r\n\r\n        <div className=\"settings-info\">\r\n          <h3>üìã How to get your API Key:</h3>\r\n          <ol>\r\n            <li>Go to <a href=\"https://makersuite.google.com/app/apikey\" target=\"_blank\" rel=\"noopener noreferrer\">Google AI Studio</a></li>\r\n            <li>Sign in with your Google account</li>\r\n            <li>Create a new API key or use an existing one</li>\r\n            <li>Copy and paste the key above</li>\r\n          </ol>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Settings;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}