{"ast":null,"code":"import axios from'axios';const API_BASE_URL=process.env.REACT_APP_API_URL||'http://localhost:5000';const api=axios.create({baseURL:API_BASE_URL,timeout:30000,// 30 seconds timeout for image analysis\nheaders:{'Content-Type':'application/json'}});// Request interceptor for logging\napi.interceptors.request.use(config=>{var _config$method;console.log(\"Making \".concat((_config$method=config.method)===null||_config$method===void 0?void 0:_config$method.toUpperCase(),\" request to: \").concat(config.url));return config;},error=>{console.error('Request error:',error);return Promise.reject(error);});// Response interceptor for error handling\napi.interceptors.response.use(response=>{return response;},error=>{console.error('API Error:',error);if(error.response){// Server responded with error status\nconsole.error('Error data:',error.response.data);}else if(error.request){// Request made but no response received\nconsole.error('No response received:',error.request);}else{// Something else happened\nconsole.error('Error message:',error.message);}return Promise.reject(error);});// Medical imaging specific API functions\nexport const medicalApi={// Analyze medical image\nanalyzeImage:async(imageData,question,clinicalContext)=>{const apiKey=localStorage.getItem('geminiApiKey')||'';const response=await api.post('/api/analyze-image',{imageData,question,clinicalContext,apiKey});return response;},// Chat with medical AI\nchat:async function(message){let history=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];const apiKey=localStorage.getItem('geminiApiKey')||'';const response=await api.post('/api/chat',{message,history,apiKey});return response.data;},// Get imaging modalities information\ngetImagingModalities:async()=>{const response=await api.get('/api/imaging-modalities');return response.data;},// Settings API functions\nupdateSettings:async apiKey=>{const response=await api.post('/api/update-settings',{apiKey});return response.data;},testGeminiConnection:async apiKey=>{const response=await api.post('/api/test-gemini',{apiKey});return response.data;}};export default api;","map":{"version":3,"names":["axios","API_BASE_URL","process","env","REACT_APP_API_URL","api","create","baseURL","timeout","headers","interceptors","request","use","config","_config$method","console","log","concat","method","toUpperCase","url","error","Promise","reject","response","data","message","medicalApi","analyzeImage","imageData","question","clinicalContext","apiKey","localStorage","getItem","post","chat","history","arguments","length","undefined","getImagingModalities","get","updateSettings","testGeminiConnection"],"sources":["C:/Users/91797/Desktop/medicalImaging/frontend/src/utils/api.js"],"sourcesContent":["import axios from 'axios';\r\n\r\nconst API_BASE_URL = process.env.REACT_APP_API_URL || 'http://localhost:5000';\r\n\r\nconst api = axios.create({\r\n  baseURL: API_BASE_URL,\r\n  timeout: 30000, // 30 seconds timeout for image analysis\r\n  headers: {\r\n    'Content-Type': 'application/json',\r\n  },\r\n});\r\n\r\n// Request interceptor for logging\r\napi.interceptors.request.use(\r\n  (config) => {\r\n    console.log(`Making ${config.method?.toUpperCase()} request to: ${config.url}`);\r\n    return config;\r\n  },\r\n  (error) => {\r\n    console.error('Request error:', error);\r\n    return Promise.reject(error);\r\n  }\r\n);\r\n\r\n// Response interceptor for error handling\r\napi.interceptors.response.use(\r\n  (response) => {\r\n    return response;\r\n  },\r\n  (error) => {\r\n    console.error('API Error:', error);\r\n\r\n    if (error.response) {\r\n      // Server responded with error status\r\n      console.error('Error data:', error.response.data);\r\n    } else if (error.request) {\r\n      // Request made but no response received\r\n      console.error('No response received:', error.request);\r\n    } else {\r\n      // Something else happened\r\n      console.error('Error message:', error.message);\r\n    }\r\n\r\n    return Promise.reject(error);\r\n  }\r\n);\r\n\r\n// Medical imaging specific API functions\r\nexport const medicalApi = {\r\n  // Analyze medical image\r\n  analyzeImage: async (imageData, question, clinicalContext) => {\r\n    const apiKey = localStorage.getItem('geminiApiKey') || '';\r\n    const response = await api.post('/api/analyze-image', {\r\n      imageData,\r\n      question,\r\n      clinicalContext,\r\n      apiKey,\r\n    });\r\n    return response;\r\n  },\r\n\r\n  // Chat with medical AI\r\n  chat: async (message, history = []) => {\r\n    const apiKey = localStorage.getItem('geminiApiKey') || '';\r\n    const response = await api.post('/api/chat', {\r\n      message,\r\n      history,\r\n      apiKey,\r\n    });\r\n    return response.data;\r\n  },\r\n\r\n  // Get imaging modalities information\r\n  getImagingModalities: async () => {\r\n    const response = await api.get('/api/imaging-modalities');\r\n    return response.data;\r\n  },\r\n\r\n  // Settings API functions\r\n  updateSettings: async (apiKey) => {\r\n    const response = await api.post('/api/update-settings', {\r\n      apiKey\r\n    });\r\n    return response.data;\r\n  },\r\n\r\n  testGeminiConnection: async (apiKey) => {\r\n    const response = await api.post('/api/test-gemini', {\r\n      apiKey\r\n    });\r\n    return response.data;\r\n  },\r\n};\r\n\r\nexport default api;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}